(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,r){},16:function(t,e,r){},17:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(8),s=r.n(i),o=(r(15),r(2)),u=r(3),h=r(5),c=r(4),d=r(6),l=(r(16),r(1)),f=function(){function t(){Object(o.a)(this,t),this.currentState=Math.floor(2*Math.random()),this.total=0}return Object(u.a)(t,[{key:"setState",value:function(t){this.currentState=t,this.total+=t}}]),t}();function v(t,e){for(var r=new Array(e),n=0;n<e;n++)r[n]=new Array(t);return r}var b=function(){function t(e,r){Object(o.a)(this,t),this.width=e,this.height=r,this.currentBufferIndex=0,this.buffer=[v(e,r),v(e,r)],this.clear(),this.generation=0}return Object(u.a)(t,[{key:"getCells",value:function(){return this.buffer[this.currentBufferIndex]}},{key:"getGen",value:function(){return this.generation}},{key:"clear",value:function(){this.generation=0;for(var t=this.buffer[this.currentBufferIndex],e=0;e<this.height;e++)for(var r=0;r<this.width;r++)t[e][r]=new f,t[e][r].setState(0)}},{key:"buildGrid",value:function(){for(var t=this.buffer[this.currentBufferIndex],e=0;e<this.height;e++)for(var r=0;r<this.width;r++)t[e][r]=new f}},{key:"nextGen",value:function(){var t=0===this.currentBufferIndex?1:0,e=this.buffer[this.currentBufferIndex],r=this.buffer[t];function n(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{border:"zero"},a=0;if("wrap"===n.border){var i=r-1,s=r+1,o=t-1,u=t+1;i<0&&(i=this.height-1),s===this.height&&(s=0),o<0&&(o=this.width-1),u===this.width&&(u=0),a=e[i][o].currentState+e[i][t].currentState+e[i][u].currentState+e[r][o].currentState+e[r][u].currentState+e[s][o].currentState+e[s][t].currentState+e[s][u].currentState}else{if("zero"!==n.border)throw new Error("unknown border option"+n.border);for(var h=-1;h<=1;h++){var c=r+h;if(!(c<0||c===this.height))for(var d=-1;d<=1;d++){var l=t+d;l<0||l===this.width||(0===d&&0===h||(a+=e[c][l].currentState))}}}return a}for(var a=0;a<this.height;a++)for(var i=0;i<this.width;i++){var s=n.bind(this)(i,a),o=e[a][i].currentState;"undefined"===typeof r[a][i]&&(r[a][i]=new f),1===o?s<2||s>3?r[a][i].setState(0):r[a][i].setState(1):3===s?r[a][i].setState(1):r[a][i].setState(0)}this.currentBufferIndex=0===this.currentBufferIndex?1:0,this.generation++}}]),t}();function p(t,e,r){var n,a,i;if(0===e)n=a=i=r;else{var s=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},o=r<.5?r*(1+e):r+e-r*e,u=2*r-o;n=s(u,o,t+1/3),a=s(u,o,t),i=s(u,o,t-1/3)}return[Math.round(255*n),Math.round(255*a),Math.round(255*i)]}var g=function(t){function e(t){var r;return Object(o.a)(this,e),(r=Object(h.a)(this,Object(c.a)(e).call(this,t))).grid=new b(t.width,t.height),r.grid.buildGrid(),r.state={x:0,y:0,generation:r.grid.getGen()},r.heatmap=!0,r.stopRequested=!1,r.update=r.update.bind(Object(l.a)(Object(l.a)(r))),r.start=r.start.bind(Object(l.a)(Object(l.a)(r))),r.startOver=r.startOver.bind(Object(l.a)(Object(l.a)(r))),r.clear=r.clear.bind(Object(l.a)(Object(l.a)(r))),r.drawGrid=r.drawGrid.bind(Object(l.a)(Object(l.a)(r))),r}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){requestAnimationFrame(this.update)}},{key:"startOver",value:function(){this.stopRequested=!1,this.grid=new b(this.props.width,this.props.height),this.grid.buildGrid(),requestAnimationFrame(this.update)}},{key:"clear",value:function(){this.grid.clear(),this.drawGrid(),this.setState({generation:this.grid.getGen()}),this.stopRequested=!0}},{key:"drawGrid",value:function(){for(var t=0,e=this.props.width,r=this.props.height,n=this.grid.getCells(),a=this.refs.canvas.getContext("2d"),i=a.getImageData(0,0,e,r),s=0;s<r;s++)for(var o=0;o<e;o++){var u=n[s][o];u.total>t&&(t=u.total)}for(var h=0;h<r;h++)for(var c=0;c<e;c++){var d=4*(h*e+c),l=1===n[h][c].currentState?0:255,f=n[h][c].total/t,v=240*Math.abs(1-f),b=this.heatmap?p(v/360,1,.5):[l,l,l];i.data[d+0]=b[0],i.data[d+1]=b[1],i.data[d+2]=b[2],i.data[d+3]=255}a.putImageData(i,0,0)}},{key:"update",value:function(){this.drawGrid(),this.grid.nextGen(),this.setState({generation:this.grid.getGen()}),this.stopRequested||requestAnimationFrame(this.update)}},{key:"start",value:function(){this.stopRequested&&(this.stopRequested=!1,requestAnimationFrame(this.update))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{id:"gridCanvas",ref:"elem"},a.a.createElement("canvas",{ref:"canvas",width:this.props.width,height:this.props.height}),a.a.createElement("div",null,a.a.createElement("h3",null,"Generation: ",this.state.generation)),a.a.createElement("div",{id:"buttonContainer"},a.a.createElement("button",{onClick:function(){t.start()}},a.a.createElement("span",null,"Start")),a.a.createElement("button",{onClick:function(){t.stopRequested=!0}},a.a.createElement("span",null,"Stop")),a.a.createElement("button",{onClick:function(e){e.preventDefault(),t.clear()}},a.a.createElement("span",null,"Clear")),a.a.createElement("button",{onClick:function(){t.startOver()}},a.a.createElement("span",null,"Reset")),a.a.createElement("button",{onClick:function(e){e.preventDefault(),t.heatmap=!t.heatmap}},a.a.createElement("span",null,"Toggle Heatmap"))))}}]),e}(n.Component),m=function(t){function e(t){var r;return Object(o.a)(this,e),(r=Object(h.a)(this,Object(c.a)(e).call(this,t))).state={res:2,COLS:500,ROWS:500},r}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Conway's Game of Life"),a.a.createElement(g,{width:this.state.COLS,height:this.state.ROWS}),a.a.createElement("h4",null,"About this Game"))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,r){t.exports=r(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.8fc12e2a.chunk.js.map